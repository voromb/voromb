# .github/workflows/metrics.yml
name: Metrics

on:
  schedule:
    - cron: "0 6 * * *"          # 06 UTC â†’ 08 h Madrid
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # â”€â”€â”€ AutenticaciÃ³n â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          token:           ${{ secrets.METRICS_TOKEN }}
          committer_token: ${{ secrets.GITHUB_TOKEN }}

          # â”€â”€â”€ Salida â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          filename:        github-metrics.svg
          output_action:   commit            # commit automÃ¡tico
          output_path:     .

          # â”€â”€â”€ Apariencia Matrix â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          template: terminal
          config_display: large
          config_timezone: Europe/Madrid

          # ğŸ‘‰ Permiso para usar CSS de usuario
          extras_features: metrics.run.puppeteer.user.css

          # ğŸ‘‰ Tu CSS verde-sobre-negro
          extras_css: |
            svg { background:#000 !important; }
            text,tspan,.label,.field,.header,.section-title,
            h1,h2,h3,h4,h5,h6 { fill:#00ff00 !important; color:#00ff00 !important; }
            line,path[stroke] { stroke:#00ff00 !important; }

          # â”€â”€â”€ Bloques base â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          base: header, activity, community, repositories, metadata

          # â”€â”€â”€ Plugins habituales â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          plugin_languages:              yes
          plugin_languages_sections:     most-used, recently-used
          plugin_languages_limit:        10
          plugin_isocalendar:            yes
          plugin_isocalendar_duration:   full-year
          plugin_lines:                  yes
          plugin_achievements:           yes
          plugin_achievements_display:   detailed
          plugin_achievements_threshold: B
          plugin_followup:               yes
          plugin_repositories:           yes
          plugin_repositories_featured:  voromb/web-portfolio, voromb/mi-proyecto-estrella

          # â”€â”€â”€ Plugin â€œRandom code snippetâ€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
          plugin_code:                  yes
          plugin_code_languages:        javascript, typescript, php
          plugin_code_lines:            16      # lÃ­neas por fragmento
          plugin_code_load:             400     # eventos a rastrear
